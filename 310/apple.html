<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        button {
            margin: 10px;
        }
    </style>
</head>

<body>

    <button onclick="btn('iphone')" id="btn_iphone">iPhone</button>
    <button onclick="btn('ipad')" id="btn_iPad">iPad</button>
    <button onclick="btn('mac')" id="btn_Mac">Mac</button>
    

    <script>
        var products = {
            iphone: {
                main: {
                    pic: 'https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/iphone-11-og-201909?wid=1200&hei=630&fmt=jpeg&qlt=95&op_usm=0.5,0.5&.v=1566949840644'
                },
                color: [
                    p01 = {
                        id: 'p01',
                        color: '紅',
                        network: 'Wifi',
                        pic: 'https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/iphone11-red-select-2019?wid=470&hei=556&fmt=png-alpha&.v=1566956144763',
                        url: '#'
                    },
                    p02 = {
                        id: 'p02',
                        color: '黑',
                        network: 'Wifi',
                        pic: 'https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/iphone11-black-select-2019?wid=470&hei=556&fmt=png-alpha&.v=1566956144418',
                        url: '#'
                    },
                    p03 = {
                        id: 'p03',
                        color: '黃',
                        network: 'Wifi',
                        pic: 'https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/iphone11-yellow-select-2019?wid=470&hei=556&fmt=png-alpha&.v=1568141245782',
                        url: '#'
                    }
                ],
                value: [
                     {
                        price: '25000',
                        storage: '64G'
                    },
                     {
                        price: '27000',
                        storage: '128G'
                    },
                     {
                        price: '28000',
                        storage: '256G'
                    }
                ]

            },
            ipad: {},
            mac: {},
            watch: {}
        };
        var body = document.getElementsByTagName('body')[0];
        var color_area = document.createElement('div');
        var price_area = document.createElement('div');
        var img = document.createElement('img')
            img.setAttribute('id','photo')
        var total = document.createElement('div');
        
        body.appendChild(img);
        body.appendChild(total);


        function btn(name) {
            //console.log(products[name]);
            
            img.setAttribute('src',`${ products[name].main.pic}`)
            
            products[name].color.forEach(element => {
                let button = document.createElement('button')
                button.innerHTML = element.color;
                 //console.log(element.color);
                button.addEventListener("click",() =>{change_color(`${element.pic}`)});
                color_area.appendChild(button);
            });

            body.appendChild(color_area);
            products[name].value.forEach(element => {
                let button = document.createElement('button')
                button.innerHTML = element.storage;
                button.addEventListener("click",() =>{change_memory(`${element.price}`)});
                price_area.appendChild(button);
            });
            body.appendChild(price_area);

        }
        function change_color(color){
             //console.log(color);
             img.src=(color);

        }
        function change_memory(price){
           // console.log(price);
           total.innerHTML=price;

        }
    </script>
</body>

</html>